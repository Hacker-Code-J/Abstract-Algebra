\documentclass[11pt,openany]{article}

\input{algebra-preamble}
\usepackage{caption}
%Tikzpicture
\usepackage{tikz}
\usepackage{tikz-3dplot}
\usepackage{tikz-cd}
\usetikzlibrary{
	3d, % For 3D drawing
	angles,
	arrows,
	arrows.meta,
	backgrounds,
	bending,
	calc,
	decorations.pathmorphing,
	decorations.pathreplacing,
	fit,
	matrix,
	patterns,
	patterns.meta,
	positioning,
	quotes,
	shadows,
	shapes,
	shapes.geometric
}

\setstretch{1.25}
\begin{document}
\pagenumbering{arabic}
\begin{center}
	\huge\textbf{Equivalence Relations, Equivalence Classes,\\ Partitions, and Quotient Sets}\\
	\vspace{0.5em}
%	\Large\quad{대수학의 아름다움 서브-스터디}\\
	\vspace{0.5em}
	\normalsize{\today}\\
\end{center}

\section*{Cartesian Products / Set Products}
\begin{center}
\input{tikz/cartesian-products}
\end{center}
\begin{example*}
	If $A=\set{1,2}$ and $B=\set{x,y}$, then: \[
	A\times B=\set{(1,x),(1,y),(2,x),(2,y)}
	\]
\end{example*}
\begin{definition*}
	Let $A$ and $B$ are sets. \[
	A\times B:=\set{(a,b)\mid a\in A\ \text{and}\ b\in B}
	\]
\end{definition*}

\section*{Relations}
\begin{center}
\input{tikz/relations}
\end{center}
\begin{definition*}
	Let $A$ and $B$ are sets. A \textbf{relation} $\mathcal{R}$ from $A$ to $B$ is a \emph{subset} of the Cartesian Product $A\times B$: \[
	\mathcal{R}\subseteq A\times B
	\]
\end{definition*}
\begin{notation*}
	$$(a,b)\in\mathcal{R}\subseteq A\times B\iff a\mathrel{\mathcal{R}}b.$$ For example, $a=b\iff (a,b)\in\ =$
\end{notation*}

\section*{Equivalence Relations}
\begin{center}
\input{tikz/equivalence-relations}
\end{center}
\begin{example*}Equality on $\Z$: \begin{itemize}
	\item $a\in \Z\implies a=a$;
	\item $a=b\implies b=a$;
	\item $a=b$ and $b=c$ $\implies a=c$.
\end{itemize}
%Modular $n$ on $\Z$: \begin{itemize}
%	\item $a\in \Z\implies a\equiv a\pmod{n}$;
%	\item $a\equiv b\pmod{n}\implies b\equiv a\pmod{n}$;
%	\item $a\equiv b\pmod{n}$ and $b\equiv c\pmod{n}$ $\implies a\equiv c\pmod{n}$.
%\end{itemize} Note that $a\equiv b\pmod{n}\overset{\text{def}}{\iff} n\mid a-b\overset{\text{def}}{\iff}\exists k\in\Z:kn=a-b$
\end{example*}
\begin{definition*}
	Given a set $A$, a relation $\mathcal{R}\subseteq A\times A$ is called an \textbf{equivalence relation} if it satisfies following properties: \begin{itemize}
		\item (Reflexivity) $a\in A\implies (a,a)\in{\mathcal{R}}$;
		\item (Symmetry) $(a,b)\in \mathcal{R}\implies (b,a)\in \mathcal{R}$;
		\item (Transitivity) $(a,b)\in\mathcal{R}\land (b,c)\in\mathcal{R}\implies (a,c)\in\mathcal{R}$.
	\end{itemize}
\end{definition*}

\section*{Equivalence Classes}
\begin{center}
\input{tikz/equivalence-classes}
\end{center}

\section*{Quotient Sets}
\begin{center}
\input{tikz/quotient-sets}
\end{center}

\begin{center}
\begin{tikzpicture}[>=Stealth, thick, node distance=2 cm]
	% Styles for different components
	\tikzset{
		main node/.style={circle, draw, fill=blue!20, minimum size=1cm, font=\sffamily},
		class node/.style={dashed, thick, ellipse, draw, thick, red, minimum height=1cm, minimum width=1cm, align=center},
		path/.style={->, thick, shorten <=2pt, shorten >=2pt},
		reflexive/.style={->, line width=1mm, loop, looseness=5, in=0, out=-90, red, opacity=.5},
		symmetric/.style={->, line width=1mm, blue, bend left, opacity=.5},
		transitive/.style={->, thick, green!75!black, bend left}
		label distance=3mm
	}
	
	% Nodes representing elements
	\node[main node, fill=green] (0) {0};
	\node[main node, fill=green] (1) [right of=0] {1};
	\node[main node, fill=green] (2) [right of=1] {2};
	
	\node[main node] (3) [below of=0] {3};
	\node[main node] (4) [below of=1] {4};
	\node[main node] (5) [below of=2] {5};
	
	\node[main node] (6) [below of=3] {6};
	\node[main node] (7) [below of=4] {7};
	\node[main node] (8) [below of=5] {8};
	
	\node[main node] (-1) [above of=2] {-1};
	\node[main node] (-2) [above of=1] {-2};
	\node[main node] (-3) [above of=0] {-3};
	
	%	 Nodes for equivalence classes
	\node[class node, label={[red]above:$[0]$}, fit=(-3) (6)] {};
	\node[class node, label={[red]above:$[1]$}, fit=(-2) (7)] {};
	\node[class node, label={[red]above:$[2]$}, fit=(-1) (8)] {};
	
	\node at (2, -7) {$\Z/\sim=\set{[0],[1],[2]}$ with $a\sim b\overset{\text{def}}{\iff}a\equiv b\pmod 3$};
	
	% Background grid as optional visual enhancement
	\begin{scope}[on background layer]
		\draw[style=help lines, step=2cm] (0,3) grid (4,-5);
	\end{scope}
\end{tikzpicture}
\end{center}


\begin{tikzpicture}[Stealth-Stealth,scale=.5]
	% 3Z
	\draw[thick, black] (-16,-4) -- (16,-4) node[right] {$3\Z$};
	\foreach \x in {-15,-12,...,15} {
		\filldraw[black] (\x,-4) circle (3pt);
		\pgfmathtruncatemacro{\result}{\x}
		\node[below, black] at (\x,-4.1) {\result};
	}
	
	% 3Z+1
	\draw[thick,red] (-16,-6) -- (16,-6) node[right] {$1+3\Z$};
	\foreach \x in {-14,-11,...,13} {
		\filldraw[red] (\x,-6) circle (3pt);
		\pgfmathtruncatemacro{\result}{\x}
		\node[below, red] at (\x,-6.1) {\result};
	}
	
	% 3Z+2
	\draw[thick,blue] (-16,-8) -- (16,-8) node[right] {$2+3\Z$};
	\foreach \x in {-13,-10,...,14} {
		\filldraw[blue] (\x,-8) circle (3pt);
		\pgfmathtruncatemacro{\result}{\x}
		\node[below, blue] at (\x,-8.1) {\result};
	}

	\draw[line width=.5mm, dotted, green] (0,-4) circle (.5cm);
	\draw[line width=.5mm, dotted, green] (1,-6) circle (.5cm);
	\draw[line width=.5mm, dotted, green] (2,-8) circle (.5cm);
	
	\node at (0, -10) {$\Z/3\Z=\set{0+3\Z,1+3\Z,2+3\Z}$};
\end{tikzpicture}
\vspace{12pt}

\begin{tikzpicture}
	
	% Draw the circles representing equivalence classes
	\draw[thick] (-6, 0) circle (2cm);
	\draw[thick] (0, 0) circle (2cm);
	\draw[thick] (6, 0) circle (2cm);
	
	% Label the circles
	\node at (-6, 0) {\begin{tabular}{c} $0 + 3\mathbb{Z}$ \\ $\{ \ldots, -6, -3, 0, 3, 6, \ldots \}$ \end{tabular}};
	\node at (0, 0) {\begin{tabular}{c} $1 + 3\mathbb{Z}$ \\ $\{ \ldots, -5, -2, 1, 4, 7, \ldots \}$ \end{tabular}};
	\node at (6, 0) {\begin{tabular}{c} $2 + 3\mathbb{Z}$ \\ $\{ \ldots, -4, -1, 2, 5, 8, \ldots \}$ \end{tabular}};
	
	% Draw arrows between circles
	\draw[->, thick] (-4, 0.5) -- (-2, 0.5) node[midway, above] {+1};
	\draw[->, thick] (2, 0.5) -- (4, 0.5) node[midway, above] {+1};
	\draw[->, thick] (4, -0.5) -- (2, -0.5) node[midway, below] {+2};
	\draw[->, thick] (-2, -0.5) -- (-4, -0.5) node[midway, below] {+2};
	
	% Add label for the set
	\node at (0, -2.5) {$\mathbb{Z}/3\mathbb{Z} = \{ 0 + 3\mathbb{Z}, 1 + 3\mathbb{Z}, 2 + 3\mathbb{Z} \}$};
	
\end{tikzpicture}

\begin{tikzpicture}
	
	% Draw the circles representing equivalence classes
	\draw[thick] (0, 0) circle (2cm);
	\draw[thick] (-4, -6) circle (2cm);
	\draw[thick] (4, -6) circle (2cm);
	
	% Label the circles
	\node at (0, 0) {\begin{tabular}{c} $0 + 3\mathbb{Z}$ \\ $\{ \ldots, -6, -3, 0, 3, 6, \ldots \}$ \end{tabular}};
	\node at (-4, -6) {\begin{tabular}{c} $1 + 3\mathbb{Z}$ \\ $\{ \ldots, -5, -2, 1, 4, 7, \ldots \}$ \end{tabular}};
	\node at (4, -6) {\begin{tabular}{c} $2 + 3\mathbb{Z}$ \\ $\{ \ldots, -4, -1, 2, 5, 8, \ldots \}$ \end{tabular}};
	
	% Draw arrows between circles
	\draw[->, thick] (-1.2, -1.2) -- (-3.8, -3.8) node[midway, above left] {+1};
%	\draw[->, thick] (2, 0.5) -- (4, 0.5) node[midway, above] {+1};
%	\draw[->, thick] (4, -0.5) -- (2, -0.5) node[midway, below] {+2};
%	\draw[->, thick] (-2, -0.5) -- (-4, -0.5) node[midway, below] {+2};
	
	% Add label for the set
%	\node at (0, -2.5) {$\mathbb{Z}/3\mathbb{Z} = \{ 0 + 3\mathbb{Z}, 1 + 3\mathbb{Z}, 2 + 3\mathbb{Z} \}$};
	
\end{tikzpicture}



\section*{Groups}

\section*{Subgroups}

\section*{Cyclic Subgroups}

\section*{Normal Subgroups}

\newpage
\begin{center}
\begin{tikzpicture}[Stealth-Stealth,scale=.5]
	% Z
	\draw[thick] (-16,0) -- (16,0) node[right] {$\Z$};
	\foreach \x in {-15,-14,...,15} {
		\filldraw (\x,0) circle (3pt);
		\node[below] at (\x,-.1) {\x};
	}

	% 2Z
	\draw[thick,red] (-16,-2) -- (16,-2) node[right] {$2\Z$};
	\foreach \x in {-14,-12,...,14} {
		\filldraw[red] (\x,-2) circle (3pt);
		\node[below, red] at (\x,-2.1) {\x};
	}
	
	% 3Z
	\draw[thick, blue] (-16,-4) -- (16,-4) node[right] {$3\Z$};
	\foreach \x in {-15,-12,...,15} {
		\filldraw[blue] (\x,-4) circle (3pt);
		\node[below, blue] at (\x,-4.1) {\x};
	}

	% 4Z
	\draw[thick,red] (-16,-6) -- (16,-6) node[right] {$4\Z$};
	\foreach \x in {-12,-8,...,12} {
		\filldraw[red] (\x,-6) circle (3pt);
		\node[below, red] at (\x,-6.1) {\x};
	}

	% 5Z
	\draw[thick,green!75!black] (-16,-8) -- (16,-8) node[right] {$5\Z$};
	\foreach \x in {-15,-10,...,15} {
		\filldraw[green!75!black] (\x,-8) circle (3pt);
		\node[below, green!75!black] at (\x,-8.1) {\x};
	}

	% 6Z
	\draw[thick, blue] (-16,-10) -- (16,-10) node[right] {$6\Z$};
	\foreach \x in {-12,-6,...,12} {
		\filldraw[blue] (\x,-10) circle (3pt);
		\node[below, blue] at (\x,-10.1) {\x};
	}
\end{tikzpicture}
\begin{tikzpicture}
	% Root node
	\node (Z) at (0,0) {$\mathbb{Z}$};
	
	% First level of subsets
	\node (2Z) at (-6,-2) {$2\mathbb{Z}$};
	\node (3Z) at (-3,-2) {$3\mathbb{Z}$};
	\node (5Z) at (0,-2) {$5\mathbb{Z}$};
	\node (7Z) at (3,-2) {$7\mathbb{Z}$};
	\node (11Z) at (6,-2) {$11\mathbb{Z}$};
	
	% Second level of subsets
	\node (4Z) at (-6,-4) {$4\mathbb{Z}$};
	\node (6Z) at (-4.5,-4) {$6\mathbb{Z}$};
	\node (9Z) at (-3,-4) {$9\mathbb{Z}$};
	\node (10Z) at (-1.5,-4) {$10\mathbb{Z}$};
	
	% Third level of subsets
	\node (8Z) at (-6,-6) {$8\mathbb{Z}$};
	\node (12Z) at (-4.5,-6) {$12\mathbb{Z}$};
	
	% Level 1
	\draw (Z) -- (2Z);
	\draw (Z) -- (3Z);
	\draw (Z) -- (5Z);
	\draw (Z) -- (7Z);
	\draw (Z) -- (11Z);
	
	% Level 2
	\draw (2Z) -- (4Z);
	\draw (2Z) -- (6Z);
	\draw (2Z) -- (10Z);
	
	\draw (3Z) -- (6Z);
	\draw (3Z) -- (9Z);
	
	\draw (5Z) -- (10Z);
	
	% Level 3
	\draw (4Z) -- (8Z);
	\draw (2Z) -- (12Z);
	\draw (6Z) -- (12Z);
\end{tikzpicture}
\end{center}

\newpage
	\begin{tikzpicture}
		\node[circle, draw, minimum size=2cm] (G) at (0,0) {$\mathbb{Z}$};
		\node (op) at (0,-1.5) {Operation: $+$};
		\node (id) at (0,-2) {Identity: $0$};
		\node (inv) at (0,-2.5) {Inverses: $\forall a \in \mathbb{Z}, -a \in \mathbb{Z}$};
	\end{tikzpicture}

\begin{tikzpicture}
	\node[circle, draw, minimum size=2cm] (R) at (0,0) {$\mathbb{Z}$};
	\node (op1) at (-2,-1.5) {Addition: $+$};
	\node (id1) at (-2,-2) {Additive Identity: $0$};
	\node (inv1) at (-2,-2.5) {Additive Inverses: $\forall a \in \mathbb{Z}, -a \in \mathbb{Z}$};
	
	\node (op2) at (2,-1.5) {Multiplication: $\cdot$};
	\node (id2) at (2,-2) {Multiplicative Identity: $1$};
\end{tikzpicture}


	\begin{tikzpicture}
		\node[circle, draw, minimum size=3cm] (G) at (0,0) {$\mathbb{Z}$};
		\node[circle, draw, minimum size=1.5cm] (H) at (0,0) {$2\mathbb{Z}$};
	\end{tikzpicture}

\begin{tikzpicture}
	\node[circle, draw, minimum size=3cm] (R) at (0,0) {$\mathbb{Z}$};
	\node[circle, draw, minimum size=1.5cm] (S) at (0,0) {$2\mathbb{Z}$};
\end{tikzpicture}

\begin{tikzpicture}
	\node[circle, draw, minimum size=3cm] (G) at (0,0) {$\mathbb{Z}$};
	\node[circle, draw, minimum size=1.5cm] (N) at (0,0) {$2\mathbb{Z}$};
	\node at (0,-2.5) {Normal Subgroup};
\end{tikzpicture}

\begin{tikzpicture}
	\node[circle, draw, minimum size=3cm] (R) at (0,0) {$\mathbb{Z}$};
	\node[circle, draw, minimum size=1.5cm] (I) at (0,0) {$2\mathbb{Z}$};
	\node at (0,-2.5) {Ideal};
\end{tikzpicture}

\begin{tikzpicture}
	\node[circle, draw, minimum size=3cm] (G) at (0,0) {$\mathbb{Z}$};
	\node[circle, draw, minimum size=1.5cm] (N) at (0,0) {$2\mathbb{Z}$};
	\node at (0,-2.5) {Quotient Group $\mathbb{Z} / 2\mathbb{Z}$};
	\node at (0,-3.5) {Cosets: $\{0, 1\}$ modulo 2};
\end{tikzpicture}

\begin{tikzpicture}
	\node[circle, draw, minimum size=3cm] (R) at (0,0) {$\mathbb{Z}$};
	\node[circle, draw, minimum size=1.5cm] (I) at (0,0) {$2\mathbb{Z}$};
	\node at (0,-2.5) {Quotient Ring $\mathbb{Z} / 2\mathbb{Z}$};
	\node at (0,-3.5) {Elements: $\{0, 1\}$ modulo 2};
\end{tikzpicture}

\begin{tikzpicture}
	\node[circle, draw, minimum size=3cm] (G) at (0,0) {$\mathbb{Z}$};
	\node[circle, draw, minimum size=1.5cm] (H) at (0,0) {$3\mathbb{Z}$};
	\node at (0,-2.5) {Cyclic Subgroup $\langle 3 \rangle = 3\mathbb{Z}$};
\end{tikzpicture}

\begin{tikzpicture}
	\node[circle, draw, minimum size=3cm] (R) at (0,0) {$\mathbb{Z}$};
	\node[circle, draw, minimum size=1.5cm] (I) at (0,0) {$3\mathbb{Z}$};
	\node at (0,-2.5) {Principal Ideal $(3) = 3\mathbb{Z}$};
\end{tikzpicture}
\newpage
%\begin{tikzpicture}[scale=1.5]
%	
%	% Draw the outer circle representing group G
%	\draw[thick] (0,0) circle (3cm);
%	\node at (0,3.2) {$G$};
%	
%	% Draw the inner circle representing the normal subgroup N
%	\draw[thick] (0,0) circle (1.5cm);
%	\node at (0,1.7) {$N$};
%	
%	% Draw elements of G
%	\foreach \angle in {0,45,...,315}
%%	\filldraw (3cm*\angle:1pt) circle (2pt);
%	
%	% Draw elements of N
%	\foreach \angle in {0,90,...,270}
%	\filldraw (1.5cm*\angle:1pt) circle (2pt);
%	
%	% Draw arrows indicating normal subgroup property
%%	\foreach \angle in {0,90,...,270} {
%%		\draw[->,thick] (1.5cm*\angle:1.5cm) -- (3cm*\angle:3cm);
%%		\draw[->,thick] (3cm*\angle:3cm) -- (1.5cm*\angle:1.5cm);
%%	}
%	
%	% Draw label for G and N
%	\node at (0,0) {$e$};
%	
%	% Draw cosets
%	\node at (1.5, 0) {$gN$};
%	\node at (-1.5, 0) {$hN$};
%	
%\end{tikzpicture}
%\input{acp-note-bib}
\end{document}
